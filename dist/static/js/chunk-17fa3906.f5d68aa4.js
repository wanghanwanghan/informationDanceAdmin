(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-17fa3906"],{"0ccb":function(e,t,a){var o=a("50c4"),i=a("1148"),l=a("1d80"),r=Math.ceil,s=function(e){return function(t,a,s){var n,c,d=String(l(t)),m=d.length,f=void 0===s?" ":String(s),u=o(a);return u<=m||""==f?d:(n=u-m,c=i.call(f,r(n/f.length)),c.length>n&&(c=c.slice(0,n)),e?d+c:c+d)}};e.exports={start:s(!1),end:s(!0)}},1148:function(e,t,a){"use strict";var o=a("a691"),i=a("1d80");e.exports="".repeat||function(e){var t=String(i(this)),a="",l=o(e);if(l<0||l==1/0)throw RangeError("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(t+=t))1&l&&(a+=t);return a}},1430:function(e,t,a){"use strict";a("295b")},"19de":function(e,t){e.exports=function(e,t,a,o){var i="undefined"!==typeof o?[o,e]:[e],l=new Blob(i,{type:a||"application/octet-stream"});if("undefined"!==typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(l,t);else{var r=window.URL&&window.URL.createObjectURL?window.URL.createObjectURL(l):window.webkitURL.createObjectURL(l),s=document.createElement("a");s.style.display="none",s.href=r,s.setAttribute("download",t),"undefined"===typeof s.download&&s.setAttribute("target","_blank"),document.body.appendChild(s),s.click(),setTimeout((function(){document.body.removeChild(s),window.URL.revokeObjectURL(r)}),200)}}},"295b":function(e,t,a){},"3b17":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",[a("el-button",{staticClass:"addUserBtn-class",attrs:{type:"text"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("添加api")]),a("el-dialog",{attrs:{title:"添加api",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.form}},[a("el-form-item",{attrs:{label:"地址","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.form.path,callback:function(t){e.$set(e.form,"path",t)},expression:"form.path"}})],1),a("el-form-item",{attrs:{label:"名称","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"描述","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.form.desc,callback:function(t){e.$set(e.form,"desc",t)},expression:"form.desc"}})],1),a("el-form-item",{attrs:{label:"数据源","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择数据源"},model:{value:e.form.source,callback:function(t){e.$set(e.form,"source",t)},expression:"form.source"}},[a("el-option",{attrs:{label:"企查查",value:"企查查"}}),a("el-option",{attrs:{label:"天眼查",value:"天眼查"}}),a("el-option",{attrs:{label:"淘数",value:"淘数"}}),a("el-option",{attrs:{label:"法海",value:"法海"}}),a("el-option",{attrs:{label:"乾启",value:"乾启"}}),a("el-option",{attrs:{label:"信动",value:"信动"}}),a("el-option",{attrs:{label:"元素",value:"元素"}}),a("el-option",{attrs:{label:"众望",value:"众望"}}),a("el-option",{attrs:{label:"云码通",value:"云码通"}})],1)],1),a("el-form-item",{attrs:{label:"成本（元）","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",t)},expression:"form.price"}})],1),a("el-form-item",{attrs:{label:"api文档","label-width":e.formLabelWidth}},[a("el-upload",{ref:"upload",staticClass:"upload-demo upload-ext",attrs:{action:"https://api.meirixindong.com/api/v1/comm/file/upload","on-preview":e.handlePreview,"on-remove":e.handleRemove,"on-success":e.handleSuccess,"file-list":e.fileList,"auto-upload":!1}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")]),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:e.submitUpload}},[e._v("上传到服务器")])],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handleAddApi}},[e._v("确 定")])],1)],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"highlight-current-row":!0,border:""}},[a("el-table-column",{attrs:{prop:"path",label:"地址",width:"350"}}),a("el-table-column",{attrs:{prop:"name",label:"名称",width:"250"}}),a("el-table-column",{attrs:{prop:"desc",label:"描述",width:"200"}}),a("el-table-column",{attrs:{prop:"source",label:"数据源",width:"100"}}),a("el-table-column",{attrs:{prop:"price",label:"成本（元）",width:"100"}}),a("el-table-column",{attrs:{prop:"status",label:"状态",width:"65"}}),a("el-table-column",{attrs:{prop:"apiDoc",label:"文档",width:"65"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{staticClass:"api-doc-cell-class",on:{click:function(a){return e.handleCellClick(t.row)}}},[e._v(e._s(t.row.apiDoc))])]}}])}),a("el-table-column",{attrs:{prop:"created_at",label:"创建时间",width:"100"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return a.stopPropagation(),e.handleEdit(t.row)}}},[e._v("编辑")])]}}])})],1),a("el-dialog",{attrs:{title:"",visible:e.dialogFormVisible2},on:{"update:visible":function(t){e.dialogFormVisible2=t}}},[a("el-form",{attrs:{model:e.form2}},[a("el-form-item",{attrs:{label:"接口id","label-width":e.formLabelWidth}},[a("el-input",{attrs:{disabled:""},model:{value:e.form2.id,callback:function(t){e.$set(e.form2,"id",t)},expression:"form2.id"}})],1),a("el-form-item",{attrs:{label:"路径","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.form2.path,callback:function(t){e.$set(e.form2,"path",t)},expression:"form2.path"}})],1),a("el-form-item",{attrs:{label:"名称","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.form2.name,callback:function(t){e.$set(e.form2,"name",t)},expression:"form2.name"}})],1),a("el-form-item",{attrs:{label:"描述","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.form2.desc,callback:function(t){e.$set(e.form2,"desc",t)},expression:"form2.desc"}})],1),a("el-form-item",{attrs:{label:"成本价","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.form2.price,callback:function(t){e.$set(e.form2,"price",t)},expression:"form2.price"}})],1),a("el-form-item",{attrs:{label:"状态","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择状态"},model:{value:e.form2.status,callback:function(t){e.$set(e.form2,"status",t)},expression:"form2.status"}},[a("el-option",{attrs:{label:"启用",value:"启用"}}),a("el-option",{attrs:{label:"停用",value:"停用"}})],1)],1),a("el-form-item",{attrs:{label:"数据源","label-width":e.formLabelWidth}},[a("el-input",{attrs:{disabled:""},model:{value:e.form2.source,callback:function(t){e.$set(e.form2,"source",t)},expression:"form2.source"}})],1),a("el-form-item",{attrs:{label:"创建时间","label-width":e.formLabelWidth}},[a("el-input",{attrs:{disabled:""},model:{value:e.form2.created_at,callback:function(t){e.$set(e.form2,"created_at",t)},expression:"form2.created_at"}})],1),a("el-form-item",{attrs:{label:"修改时间","label-width":e.formLabelWidth}},[a("el-input",{attrs:{disabled:""},model:{value:e.form2.updated_at,callback:function(t){e.$set(e.form2,"updated_at",t)},expression:"form2.updated_at"}})],1),a("el-form-item",{attrs:{label:"api文档","label-width":e.formLabelWidth}},[a("el-input",{attrs:{disabled:""},model:{value:e.form2.apiDoc,callback:function(t){e.$set(e.form2,"apiDoc",t)},expression:"form2.apiDoc"}}),a("el-upload",{ref:"upload2",staticClass:"upload-demo upload-ext",attrs:{action:"https://api.meirixindong.com/api/v1/comm/file/upload","on-preview":e.handlePreview2,"on-remove":e.handleRemove2,"on-success":e.handleSuccess2,"file-list":e.fileList2,"auto-upload":!1}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")]),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:e.submitUpload2}},[e._v("上传到服务器 ")])],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible2=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handleEditBtn}},[e._v("确 定")])],1)],1)],1)},i=[],l=(a("b0c0"),a("d3b7"),a("159b"),a("a9e3"),a("ed08")),r=a("19de"),s=a.n(r),n=a("bc3a"),c=a.n(n),d={name:"",components:{},props:{},data:function(){return{tableData:[],dialogFormVisible:!1,form:{path:"",name:"",desc:"",source:"",price:"",apiDoc:""},formLabelWidth:"120px",form2:{id:"",path:"",name:"",desc:"",price:"",source:"",status:"",apiDoc:"",created_at:"",updated_at:""},dialogFormVisible2:!1,fileList:[],fileList2:[]}},computed:{},mounted:function(){var e=this,t={};this.$http.post("admin_provide/v1/api/getApiList",t).then((function(t){var a=t.data;200===a.code?(e.$message({type:"success",message:"操作成功!"}),e.tableData=e.handleApiInfo(a.result)):e.$message({type:"error",message:a.msg})})).catch((function(e){console.error(e)}))},methods:{handleCellClick:function(e){e.apiDocUrl.length>10&&c()({method:"get",url:"https://api.meirixindong.com"+e.apiDocUrl,responseType:"blob"}).then((function(t){var a=e.apiDocUrl.lastIndexOf("."),o=e.apiDocUrl.substr(a+1);s()(t.data,e.name+"."+o)}))},handleEdit:function(e){this.dialogFormVisible2=!0,this.form2.id=e.id,this.form2.path=e.path,this.form2.name=e.name,this.form2.desc=e.desc,this.form2.price=e.price,this.form2.source=e.source,this.form2.status=e.status,this.form2.apiDoc=e.apiDocUrl,this.form2.created_at=e.created_at,this.form2.updated_at=Object(l["a"])(e.updated_at)},handleEditBtn:function(){var e=this;this.dialogFormVisible2=!1,this.$http.post("admin_provide/v1/api/editApi",{aid:this.form2.id,path:this.form2.path,name:this.form2.name,desc:this.form2.desc,price:this.form2.price,status:this.form2.status,apiDoc:this.form2.apiDoc}).then((function(t){var a=t.data;e.$message({type:"success",message:a.msg}),location.reload()})).catch((function(e){}))},handleApiInfo:function(e){return e.forEach((function(e){1===e.status?e.status="启用":e.status="停用中",e.apiDocUrl=e.apiDoc,e.apiDoc.length>10?e.apiDoc="下载":e.apiDoc="未上传",e.price=Number(e.price),e.created_at=Object(l["a"])(e.created_at,"{y}-{m}-{d}")})),e},handleAddApi:function(){var e=this;if(""!==this.form.path&&""!==this.form.name&&""!==this.form.source&&""!==this.form.price&&""!==this.form.apiDoc){var t={path:this.form.path,name:this.form.name,desc:this.form.desc,source:this.form.source,price:this.form.price,apiDoc:this.form.apiDoc};this.$http.post("admin_provide/v1/api/addApi",t).then((function(t){var a=t.data;200===a.code?e.$message({type:"success",message:"操作成功!"}):e.$message({type:"error",message:a.msg})})).catch((function(e){console.error(e)})),this.dialogFormVisible=!1}else this.$message({type:"error",message:"信息填写不完整"})},submitUpload:function(){this.$refs.upload.submit()},handleRemove:function(e,t){this.fileList=[]},handlePreview:function(e){},handleSuccess:function(e,t,a){200===e.code&&(this.form.apiDoc=e.result.file)},submitUpload2:function(){this.$refs.upload2.submit()},handleRemove2:function(e,t){this.fileList2=[]},handlePreview2:function(e){},handleSuccess2:function(e,t,a){200===e.code&&(this.form2.apiDoc=e.result.file)}}},m=d,f=(a("1430"),a("2877")),u=Object(f["a"])(m,o,i,!1,null,"6f287737",null);t["default"]=u.exports},"4d90":function(e,t,a){"use strict";var o=a("23e7"),i=a("0ccb").start,l=a("9a0c");o({target:"String",proto:!0,forced:l},{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},"9a0c":function(e,t,a){var o=a("342f");e.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o)},a9e3:function(e,t,a){"use strict";var o=a("83ab"),i=a("da84"),l=a("94ca"),r=a("6eeb"),s=a("5135"),n=a("c6b6"),c=a("7156"),d=a("c04e"),m=a("d039"),f=a("7c73"),u=a("241c").f,p=a("06cf").f,b=a("9bf2").f,h=a("58a8").trim,v="Number",g=i[v],w=g.prototype,y=n(f(w))==v,_=function(e){var t,a,o,i,l,r,s,n,c=d(e,!1);if("string"==typeof c&&c.length>2)if(c=h(c),t=c.charCodeAt(0),43===t||45===t){if(a=c.charCodeAt(2),88===a||120===a)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:o=2,i=49;break;case 79:case 111:o=8,i=55;break;default:return+c}for(l=c.slice(2),r=l.length,s=0;s<r;s++)if(n=l.charCodeAt(s),n<48||n>i)return NaN;return parseInt(l,o)}return+c};if(l(v,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var k,L=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof L&&(y?m((function(){w.valueOf.call(a)})):n(a)!=v)?c(new g(_(t)),a,L):_(t)},x=o?u(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),D=0;x.length>D;D++)s(g,k=x[D])&&!s(L,k)&&b(L,k,p(g,k));L.prototype=w,w.constructor=L,r(i,v,L)}},ed08:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0");function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}a("ac1f"),a("00b4"),a("5319"),a("4d63"),a("2c3e"),a("25f0"),a("4d90"),a("1276"),a("159b");function i(e,t){if(0===arguments.length||!e)return null;var a,i=t||"{y}-{m}-{d} {h}:{i}:{s}";"object"===o(e)?a=e:("string"===typeof e&&(e=/^[0-9]+$/.test(e)?parseInt(e):e.replace(new RegExp(/-/gm),"/")),"number"===typeof e&&10===e.toString().length&&(e*=1e3),a=new Date(e));var l={y:a.getFullYear(),m:a.getMonth()+1,d:a.getDate(),h:a.getHours(),i:a.getMinutes(),s:a.getSeconds(),a:a.getDay()},r=i.replace(/{([ymdhisa])+}/g,(function(e,t){var a=l[t];return"a"===t?["日","一","二","三","四","五","六"][a]:a.toString().padStart(2,"0")}));return r}}}]);