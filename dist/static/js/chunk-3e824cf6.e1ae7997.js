(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3e824cf6"],{"0ccb":function(t,e,a){var o=a("50c4"),i=a("1148"),l=a("1d80"),r=Math.ceil,s=function(t){return function(e,a,s){var n,c,d=String(l(e)),f=d.length,u=void 0===s?" ":String(s),m=o(a);return m<=f||""==u?d:(n=m-f,c=i.call(u,r(n/u.length)),c.length>n&&(c=c.slice(0,n)),t?d+c:c+d)}};t.exports={start:s(!1),end:s(!0)}},1148:function(t,e,a){"use strict";var o=a("a691"),i=a("1d80");t.exports="".repeat||function(t){var e=String(i(this)),a="",l=o(t);if(l<0||l==1/0)throw RangeError("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(e+=e))1&l&&(a+=e);return a}},"16c5":function(t,e,a){"use strict";a("800b")},"19de":function(t,e){t.exports=function(t,e,a,o){var i="undefined"!==typeof o?[o,t]:[t],l=new Blob(i,{type:a||"application/octet-stream"});if("undefined"!==typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(l,e);else{var r=window.URL&&window.URL.createObjectURL?window.URL.createObjectURL(l):window.webkitURL.createObjectURL(l),s=document.createElement("a");s.style.display="none",s.href=r,s.setAttribute("download",e),"undefined"===typeof s.download&&s.setAttribute("target","_blank"),document.body.appendChild(s),s.click(),setTimeout((function(){document.body.removeChild(s),window.URL.revokeObjectURL(r)}),200)}}},"3b17":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",[a("el-button",{staticClass:"addUserBtn-class",attrs:{type:"text"},on:{click:function(e){t.dialogFormVisible=!0}}},[t._v("添加api")]),a("el-dialog",{attrs:{title:"添加api",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"地址","label-width":t.formLabelWidth}},[a("el-input",{model:{value:t.form.path,callback:function(e){t.$set(t.form,"path",e)},expression:"form.path"}})],1),a("el-form-item",{attrs:{label:"名称","label-width":t.formLabelWidth}},[a("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"描述","label-width":t.formLabelWidth}},[a("el-input",{model:{value:t.form.desc,callback:function(e){t.$set(t.form,"desc",e)},expression:"form.desc"}})],1),a("el-form-item",{attrs:{label:"数据源","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择数据源"},model:{value:t.form.source,callback:function(e){t.$set(t.form,"source",e)},expression:"form.source"}},[a("el-option",{attrs:{label:"企查查",value:"企查查"}}),a("el-option",{attrs:{label:"天眼查",value:"天眼查"}}),a("el-option",{attrs:{label:"淘数",value:"淘数"}}),a("el-option",{attrs:{label:"法海",value:"法海"}}),a("el-option",{attrs:{label:"乾启",value:"乾启"}}),a("el-option",{attrs:{label:"信动",value:"信动"}}),a("el-option",{attrs:{label:"元素",value:"元素"}}),a("el-option",{attrs:{label:"众望",value:"众望"}}),a("el-option",{attrs:{label:"云码通",value:"云码通"}})],1)],1),a("el-form-item",{attrs:{label:"成本（元）","label-width":t.formLabelWidth}},[a("el-input",{model:{value:t.form.price,callback:function(e){t.$set(t.form,"price",e)},expression:"form.price"}})],1),a("el-form-item",{attrs:{label:"api文档","label-width":t.formLabelWidth}},[a("el-upload",{ref:"upload",staticClass:"upload-demo upload-ext",attrs:{action:"https://api.meirixindong.com/api/v1/comm/file/upload","on-preview":t.handlePreview,"on-remove":t.handleRemove,"on-success":t.handleSuccess,"file-list":t.fileList,"auto-upload":!1}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[t._v("选取文件")]),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:t.submitUpload}},[t._v("上传到服务器")])],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.handleAddApi}},[t._v("确 定")])],1)],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"highlight-current-row":!0,border:""}},[a("el-table-column",{attrs:{prop:"path",label:"地址",width:"350"}}),a("el-table-column",{attrs:{prop:"name",label:"名称",width:"250"}}),a("el-table-column",{attrs:{prop:"desc",label:"描述",width:"200"}}),a("el-table-column",{attrs:{prop:"price",label:"成本（元）",width:"100"}}),a("el-table-column",{attrs:{prop:"status",label:"状态",width:"65"}}),a("el-table-column",{attrs:{prop:"apiDoc",label:"文档",width:"65"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{staticClass:"api-doc-cell-class",on:{click:function(a){return t.handleCellClick(e.row)}}},[t._v(t._s(e.row.apiDoc))])]}}])}),a("el-table-column",{attrs:{prop:"created_at",label:"创建时间",width:"100"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return a.stopPropagation(),t.handleEdit(e.row)}}},[t._v("编辑")]),a("el-dialog",{attrs:{title:"",visible:t.dialogFormVisible2},on:{"update:visible":function(e){t.dialogFormVisible2=e}}},[a("el-form",{attrs:{model:t.form2}},[a("el-form-item",{attrs:{label:"接口id","label-width":t.formLabelWidth}},[a("el-input",{attrs:{disabled:""},model:{value:t.form2.id,callback:function(e){t.$set(t.form2,"id",e)},expression:"form2.id"}})],1),a("el-form-item",{attrs:{label:"路径","label-width":t.formLabelWidth}},[a("el-input",{model:{value:t.form2.path,callback:function(e){t.$set(t.form2,"path",e)},expression:"form2.path"}})],1),a("el-form-item",{attrs:{label:"名称","label-width":t.formLabelWidth}},[a("el-input",{model:{value:t.form2.name,callback:function(e){t.$set(t.form2,"name",e)},expression:"form2.name"}})],1),a("el-form-item",{attrs:{label:"描述","label-width":t.formLabelWidth}},[a("el-input",{model:{value:t.form2.desc,callback:function(e){t.$set(t.form2,"desc",e)},expression:"form2.desc"}})],1),a("el-form-item",{attrs:{label:"成本价","label-width":t.formLabelWidth}},[a("el-input",{model:{value:t.form2.price,callback:function(e){t.$set(t.form2,"price",e)},expression:"form2.price"}})],1),a("el-form-item",{attrs:{label:"状态","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择状态"},model:{value:t.form2.status,callback:function(e){t.$set(t.form2,"status",e)},expression:"form2.status"}},[a("el-option",{attrs:{label:"启用",value:"启用"}}),a("el-option",{attrs:{label:"停用",value:"停用"}})],1)],1),a("el-form-item",{attrs:{label:"数据源","label-width":t.formLabelWidth}},[a("el-input",{attrs:{disabled:""},model:{value:t.form2.source,callback:function(e){t.$set(t.form2,"source",e)},expression:"form2.source"}})],1),a("el-form-item",{attrs:{label:"创建时间","label-width":t.formLabelWidth}},[a("el-input",{attrs:{disabled:""},model:{value:t.form2.created_at,callback:function(e){t.$set(t.form2,"created_at",e)},expression:"form2.created_at"}})],1),a("el-form-item",{attrs:{label:"修改时间","label-width":t.formLabelWidth}},[a("el-input",{attrs:{disabled:""},model:{value:t.form2.updated_at,callback:function(e){t.$set(t.form2,"updated_at",e)},expression:"form2.updated_at"}})],1),a("el-form-item",{attrs:{label:"api文档","label-width":t.formLabelWidth}},[a("el-input",{attrs:{disabled:""},model:{value:t.form2.apiDoc,callback:function(e){t.$set(t.form2,"apiDoc",e)},expression:"form2.apiDoc"}}),a("el-upload",{ref:"upload2",staticClass:"upload-demo upload-ext",attrs:{action:"https://api.meirixindong.com/api/v1/comm/file/upload","on-preview":t.handlePreview2,"on-remove":t.handleRemove2,"on-success":t.handleSuccess2,"file-list":t.fileList2,"auto-upload":!1}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[t._v("选取文件")]),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:t.submitUpload2}},[t._v("上传到服务器 ")])],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible2=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.handleEditBtn}},[t._v("确 定")])],1)],1)]}}])})],1)],1)},i=[],l=(a("4160"),a("baa5"),a("b0c0"),a("a9e3"),a("159b"),a("ed08")),r=a("19de"),s=a.n(r),n=a("bc3a"),c=a.n(n),d={name:"",components:{},props:{},data:function(){return{tableData:[],dialogFormVisible:!1,form:{path:"",name:"",desc:"",source:"",price:"",apiDoc:""},formLabelWidth:"120px",form2:{id:"",path:"",name:"",desc:"",price:"",source:"",status:"",apiDoc:"",created_at:"",updated_at:""},dialogFormVisible2:!1,fileList:[],fileList2:[]}},computed:{},mounted:function(){var t=this,e={};this.$http.post("admin_provide/v1/api/getApiList",e).then((function(e){var a=e.data;200===a.code?(t.$message({type:"success",message:"操作成功!"}),t.tableData=t.handleApiInfo(a.result)):t.$message({type:"error",message:a.msg})})).catch((function(t){console.error(t)}))},methods:{handleCellClick:function(t){t.apiDocUrl.length>10&&c()({method:"get",url:"https://api.meirixindong.com"+t.apiDocUrl,responseType:"blob"}).then((function(e){var a=t.apiDocUrl.lastIndexOf("."),o=t.apiDocUrl.substr(a+1);s()(e.data,t.name+"."+o)}))},handleEdit:function(t){this.dialogFormVisible2=!0,this.form2.id=t.id,this.form2.path=t.path,this.form2.name=t.name,this.form2.desc=t.desc,this.form2.price=t.price,this.form2.source=t.source,this.form2.status=t.status,this.form2.apiDoc=t.apiDocUrl,this.form2.created_at=t.created_at,this.form2.updated_at=Object(l["a"])(t.updated_at)},handleEditBtn:function(){var t=this;this.dialogFormVisible2=!1,this.$http.post("admin_provide/v1/api/editApi",{aid:this.form2.id,path:this.form2.path,name:this.form2.name,desc:this.form2.desc,price:this.form2.price,status:this.form2.status,apiDoc:this.form2.apiDoc}).then((function(e){var a=e.data;t.$message({type:"success",message:a.msg}),location.reload()})).catch((function(t){}))},handleApiInfo:function(t){return t.forEach((function(t){1===t.status?t.status="启用":t.status="停用中",t.apiDocUrl=t.apiDoc,t.apiDoc.length>10?t.apiDoc="下载":t.apiDoc="未上传",t.price=Number(t.price),t.created_at=Object(l["a"])(t.created_at,"{y}-{m}-{d}")})),t},handleAddApi:function(){var t=this;if(""!==this.form.path&&""!==this.form.name&&""!==this.form.source&&""!==this.form.price&&""!==this.form.apiDoc){var e={path:this.form.path,name:this.form.name,desc:this.form.desc,source:this.form.source,price:this.form.price,apiDoc:this.form.apiDoc};this.$http.post("admin_provide/v1/api/addApi",e).then((function(e){var a=e.data;200===a.code?t.$message({type:"success",message:"操作成功!"}):t.$message({type:"error",message:a.msg})})).catch((function(t){console.error(t)})),this.dialogFormVisible=!1}else this.$message({type:"error",message:"信息填写不完整"})},submitUpload:function(){this.$refs.upload.submit()},handleRemove:function(t,e){this.fileList=[]},handlePreview:function(t){},handleSuccess:function(t,e,a){200===t.code&&(this.form.apiDoc=t.result.file)},submitUpload2:function(){this.$refs.upload2.submit()},handleRemove2:function(t,e){this.fileList2=[]},handlePreview2:function(t){},handleSuccess2:function(t,e,a){200===t.code&&(this.form2.apiDoc=t.result.file)}}},f=d,u=(a("16c5"),a("2877")),m=Object(u["a"])(f,o,i,!1,null,"3fa4dfa0",null);e["default"]=m.exports},"4d90":function(t,e,a){"use strict";var o=a("23e7"),i=a("0ccb").start,l=a("9a0c");o({target:"String",proto:!0,forced:l},{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},"800b":function(t,e,a){},"9a0c":function(t,e,a){var o=a("342f");t.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o)},a9e3:function(t,e,a){"use strict";var o=a("83ab"),i=a("da84"),l=a("94ca"),r=a("6eeb"),s=a("5135"),n=a("c6b6"),c=a("7156"),d=a("c04e"),f=a("d039"),u=a("7c73"),m=a("241c").f,p=a("06cf").f,b=a("9bf2").f,h=a("58a8").trim,v="Number",g=i[v],w=g.prototype,y=n(u(w))==v,_=function(t){var e,a,o,i,l,r,s,n,c=d(t,!1);if("string"==typeof c&&c.length>2)if(c=h(c),e=c.charCodeAt(0),43===e||45===e){if(a=c.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:o=2,i=49;break;case 79:case 111:o=8,i=55;break;default:return+c}for(l=c.slice(2),r=l.length,s=0;s<r;s++)if(n=l.charCodeAt(s),n<48||n>i)return NaN;return parseInt(l,o)}return+c};if(l(v,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var x,k=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof k&&(y?f((function(){w.valueOf.call(a)})):n(a)!=v)?c(new g(_(e)),a,k):_(e)},L=o?m(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;L.length>S;S++)s(g,x=L[S])&&!s(k,x)&&b(k,x,p(g,x));k.prototype=w,w.constructor=k,r(i,v,k)}},baa5:function(t,e,a){var o=a("23e7"),i=a("e58c");o({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},e58c:function(t,e,a){"use strict";var o=a("fc6a"),i=a("a691"),l=a("50c4"),r=a("a640"),s=a("ae40"),n=Math.min,c=[].lastIndexOf,d=!!c&&1/[1].lastIndexOf(1,-0)<0,f=r("lastIndexOf"),u=s("indexOf",{ACCESSORS:!0,1:0}),m=d||!f||!u;t.exports=m?function(t){if(d)return c.apply(this,arguments)||0;var e=o(this),a=l(e.length),r=a-1;for(arguments.length>1&&(r=n(r,i(arguments[1]))),r<0&&(r=a+r);r>=0;r--)if(r in e&&e[r]===t)return r||0;return-1}:c},ed08:function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));a("4160"),a("c975"),a("d3b7"),a("4d63"),a("ac1f"),a("25f0"),a("4d90"),a("5319"),a("1276"),a("159b"),a("a4d3"),a("e01a"),a("d28b"),a("3ca3"),a("ddb0");function o(t){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){if(0===arguments.length||!t)return null;var a,i=e||"{y}-{m}-{d} {h}:{i}:{s}";"object"===o(t)?a=t:("string"===typeof t&&(t=/^[0-9]+$/.test(t)?parseInt(t):t.replace(new RegExp(/-/gm),"/")),"number"===typeof t&&10===t.toString().length&&(t*=1e3),a=new Date(t));var l={y:a.getFullYear(),m:a.getMonth()+1,d:a.getDate(),h:a.getHours(),i:a.getMinutes(),s:a.getSeconds(),a:a.getDay()},r=i.replace(/{([ymdhisa])+}/g,(function(t,e){var a=l[e];return"a"===e?["日","一","二","三","四","五","六"][a]:a.toString().padStart(2,"0")}));return r}}}]);