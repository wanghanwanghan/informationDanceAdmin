(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8d39e1d0"],{"0ccb":function(t,e,a){var n=a("50c4"),i=a("1148"),o=a("1d80"),r=Math.ceil,l=function(t){return function(e,a,l){var s,c,p=String(o(e)),u=p.length,d=void 0===l?" ":String(l),f=n(a);return f<=u||""==d?p:(s=f-u,c=i.call(d,r(s/d.length)),c.length>s&&(c=c.slice(0,s)),t?p+c:c+p)}};t.exports={start:l(!1),end:l(!0)}},1148:function(t,e,a){"use strict";var n=a("a691"),i=a("1d80");t.exports="".repeat||function(t){var e=String(i(this)),a="",o=n(t);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(a+=e);return a}},"38d7":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"search-cond-wrapper"},[a("div",{staticClass:"search-left"},[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"90px"}},[a("el-form-item",{attrs:{label:"用户名称"}},[a("el-select",{style:{width:"300px"},attrs:{filterable:"",clearable:""},on:{change:t.username_change},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}},t._l(t.form.user_options,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-form-item",{attrs:{label:"接口名称"}},[a("el-select",{style:{width:"300px"},attrs:{filterable:"",clearable:"",loading:t.loading},on:{change:t.apiname_change},model:{value:t.form.apiname,callback:function(e){t.$set(t.form,"apiname",e)},expression:"form.apiname"}},t._l(t.form.api_options,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-form-item",{attrs:{label:"时间范围"}},[a("el-date-picker",{style:{width:"300px"},attrs:{"value-format":"yyyy-MM-dd",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:t.date_change},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.export_csv}},[t._v("立即导出")])],1)],1)],1),a("div",{staticClass:"search-right"})]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,height:"400"}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"请求uuid"}},[a("span",[t._v(t._s(e.row.requestId))])]),a("el-form-item",{attrs:{label:"消耗时间"}},[a("span",[t._v(t._s(Number(e.row.spendTime))+" s")])]),a("el-form-item",{attrs:{label:"请求ip"}},[a("span",[t._v(t._s(e.row.requestIp))])]),a("el-form-item",{attrs:{label:"请求ip详情"}},[a("span",[t._v(t._s(e.row.ipDetail.disp))])]),a("el-form-item",{attrs:{label:"请求参数"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return t.handleRespDetail(e.row.requestData)}}},[t._v("查看详情")])],1),a("el-form-item",{attrs:{label:"返回数据"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return t.handleRespDetail(e.row.responseData)}}},[t._v("查看详情")])],1),a("el-form-item",{attrs:{label:"成本价格"}},[a("span",[t._v(t._s(Number(e.row.price))+" 元")])]),a("el-form-item",{attrs:{label:"支付金额"}},[a("span",[t._v(t._s(Number(e.row.spendMoney))+" 元")])])],1)]}}])}),a("el-table-column",{attrs:{label:"接口路径",align:"center",prop:"path",width:"300px"}}),a("el-table-column",{attrs:{label:"接口名称",align:"center",prop:"name",width:"220px"}}),a("el-table-column",{attrs:{label:"接口描述",align:"center",prop:"desc",width:"220px"}}),a("el-table-column",{attrs:{label:"用户名称",align:"center",prop:"username"}}),a("el-table-column",{attrs:{label:"请求时间",align:"center",prop:"created_at",width:"160px"}}),a("el-table-column",{attrs:{label:"返回值",align:"center",prop:"responseCode"}})],1),a("div",{staticClass:"my-paginate"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","current-page":t.elPagination.page,"page-size":t.elPagination.pageSize,total:t.elPagination.total},on:{"current-change":t.pageChange}})],1),a("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible,width:"50%","before-close":t.handleClose}},[a("span",[a("json-viewer",{attrs:{value:t.jsonData,"expand-depth":10,copyable:"",sort:""}})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("确 定")])],1)])],1)},i=[],o=(a("d3b7"),a("159b"),a("b0c0"),a("ed08")),r={name:"",components:{},props:{},data:function(){return{loading:!1,multipleSelection:[],form:{username:"",user_options:[],apiname:"",api_options:[],date:"",uid:"",aid:""},date:"",tableData:[],elPagination:{page:1,pageSize:20,total:100},dialogVisible:!1,jsonData:{}}},computed:{},mounted:function(){this.pageChange(1)},methods:{export_csv:function(){this.$http.post("admin_provide/v1/statistics/exportCsv",this.form).then((function(t){var e=t.data;window.location.href="https://api.meirixindong.com/Static/Temp/"+e.result.filename})).catch((function(t){}))},date_change:function(){this.form.date=this.date[0]+"|||"+this.date[1],this.pageChange(1)},handleRespDetail:function(t){this.dialogVisible=!0,this.jsonData=JSON.parse(t)},pageChange:function(t){var e=this,a=this.form;a.page=t,a.pageSize=this.elPagination.pageSize,this.$http.post("admin_provide/v1/statistics/getStatisticsList",a).then((function(t){var a=t.data;e.tableData=a.result,e.tableData.forEach((function(t){t.created_at=Object(o["a"])(t.created_at)})),e.elPagination.total=a.paging.total,e.form.user_options=[],a.ext.user_info.forEach((function(t){e.form.user_options.push({label:t.username,value:t.id})})),e.form.api_options=[],a.ext.api_info.forEach((function(t){e.form.api_options.push({label:t.name+" - "+t.source,value:t.id})}))})).catch((function(t){}))},handleClose:function(t){this.dialogVisible=!1},username_change:function(t){this.form.uid=t,this.pageChange(1)},apiname_change:function(t){this.form.aid=t,this.pageChange(1)}}},l=r,s=(a("e858"),a("2877")),c=Object(s["a"])(l,n,i,!1,null,"129447af",null);e["default"]=c.exports},"4d90":function(t,e,a){"use strict";var n=a("23e7"),i=a("0ccb").start,o=a("9a0c");n({target:"String",proto:!0,forced:o},{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},5501:function(t,e,a){},"9a0c":function(t,e,a){var n=a("342f");t.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(n)},e858:function(t,e,a){"use strict";a("5501")},ed08:function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0");function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}a("ac1f"),a("00b4"),a("5319"),a("4d63"),a("2c3e"),a("25f0"),a("4d90"),a("1276"),a("159b");function i(t,e){if(0===arguments.length||!t)return null;var a,i=e||"{y}-{m}-{d} {h}:{i}:{s}";"object"===n(t)?a=t:("string"===typeof t&&(t=/^[0-9]+$/.test(t)?parseInt(t):t.replace(new RegExp(/-/gm),"/")),"number"===typeof t&&10===t.toString().length&&(t*=1e3),a=new Date(t));var o={y:a.getFullYear(),m:a.getMonth()+1,d:a.getDate(),h:a.getHours(),i:a.getMinutes(),s:a.getSeconds(),a:a.getDay()},r=i.replace(/{([ymdhisa])+}/g,(function(t,e){var a=o[e];return"a"===e?["日","一","二","三","四","五","六"][a]:a.toString().padStart(2,"0")}));return r}}}]);